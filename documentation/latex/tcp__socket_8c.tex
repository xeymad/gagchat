\hypertarget{tcp__socket_8c}{}\doxysection{library/src/tcp\+\_\+socket.c File Reference}
\label{tcp__socket_8c}\index{library/src/tcp\_socket.c@{library/src/tcp\_socket.c}}
{\ttfamily \#include \char`\"{}tcp\+\_\+socket.\+h\char`\"{}}\newline
{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include $<$errno.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$assert.\+h$>$}\newline
Include dependency graph for tcp\+\_\+socket.\+c\+:
% FIG 0
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structSTCPSocket}{T\+C\+P\+Socket}} $\ast$ \mbox{\hyperlink{tcp__socket_8c_ae16c75dfb5c0923e1466ce43c2bbfc9d}{tcp\+\_\+socket\+\_\+create}} (Conn\+Type type, char $\ast$server\+\_\+ip)
\begin{DoxyCompactList}\small\item\em Creates a T\+C\+P\+Socket and pass its pointer. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{tcp__socket_8c_a77e4929191cfaae50f4fad172f97f812}{tcp\+\_\+socket\+\_\+server\+\_\+listen}} (\mbox{\hyperlink{structSTCPSocket}{T\+C\+P\+Socket}} $\ast$tcp\+\_\+socket)
\begin{DoxyCompactList}\small\item\em Configures the server in listening mode. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{tcp__socket_8c_a27b3a99d4d5d5b23cfd813207b5ab29e}{tcp\+\_\+socket\+\_\+server\+\_\+accept}} (\mbox{\hyperlink{structSTCPSocket}{T\+C\+P\+Socket}} $\ast$tcp\+\_\+socket)
\begin{DoxyCompactList}\small\item\em Accepts a connection from a requesting client. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{tcp__socket_8c_ad928a097fa4fe3e4cacc5b7380ce5353}{tcp\+\_\+socket\+\_\+client\+\_\+connect}} (\mbox{\hyperlink{structSTCPSocket}{T\+C\+P\+Socket}} $\ast$tcp\+\_\+socket)
\begin{DoxyCompactList}\small\item\em Connects the client to the specified T\+C\+P\+Socket. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{tcp__socket_8c_a61489fc9692a59a5a41debdd2658fc71}{tcp\+\_\+socket\+\_\+send\+\_\+message}} (int connection\+\_\+fd, \mbox{\hyperlink{structSMessage}{Message}} $\ast$message)
\begin{DoxyCompactList}\small\item\em Sends a Message on T\+C\+P\+Socket. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{tcp__socket_8c_aa44e163d8d9947d70fe806b2f52a47fb}{tcp\+\_\+socket\+\_\+recv\+\_\+message}} (int connection\+\_\+fd, \mbox{\hyperlink{structSMessage}{Message}} $\ast$message)
\begin{DoxyCompactList}\small\item\em Receives a Message from T\+C\+P\+Socket. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{tcp__socket_8c_a164717a353ee0c2bb1ca12b857aee3bc}{tcp\+\_\+socket\+\_\+destroy}} (\mbox{\hyperlink{structSTCPSocket}{T\+C\+P\+Socket}} $\ast$tcp\+\_\+socket)
\begin{DoxyCompactList}\small\item\em Destroys a T\+C\+P\+Socket. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyAuthor}{Author}
Giuseppe Gambardella (\href{mailto:g.gambardella23@studenti.unisa.it}{\texttt{ g.\+gambardella23@studenti.\+unisa.\+it}}) 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2022-\/10-\/30
\end{DoxyDate}
\begin{DoxyCopyright}{Copyright}
Copyright (c) 2022 -\/ All Rights Reserved
\end{DoxyCopyright}
This file is part of gagchat. gagchat is free software\+: you can redistribute it and/or modify it under the terms of the G\+NU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.

gagchat is distributed in the hope that it will be useful, but W\+I\+T\+H\+O\+UT A\+NY W\+A\+R\+R\+A\+N\+TY; without even the implied warranty of M\+E\+R\+C\+H\+A\+N\+T\+A\+B\+I\+L\+I\+TY or F\+I\+T\+N\+E\+SS F\+OR A P\+A\+R\+T\+I\+C\+U\+L\+AR P\+U\+R\+P\+O\+SE. See the G\+NU General Public License for more details.

You should have received a copy of the G\+NU General Public License along with gagchat. If not, see \href{http://www.gnu.org/licenses/}{\texttt{ http\+://www.\+gnu.\+org/licenses/}}. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{tcp__socket_8c_ad928a097fa4fe3e4cacc5b7380ce5353}\label{tcp__socket_8c_ad928a097fa4fe3e4cacc5b7380ce5353}} 
\index{tcp\_socket.c@{tcp\_socket.c}!tcp\_socket\_client\_connect@{tcp\_socket\_client\_connect}}
\index{tcp\_socket\_client\_connect@{tcp\_socket\_client\_connect}!tcp\_socket.c@{tcp\_socket.c}}
\doxysubsubsection{\texorpdfstring{tcp\_socket\_client\_connect()}{tcp\_socket\_client\_connect()}}
{\footnotesize\ttfamily void tcp\+\_\+socket\+\_\+client\+\_\+connect (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structSTCPSocket}{T\+C\+P\+Socket}} $\ast$}]{tcp\+\_\+socket }\end{DoxyParamCaption})}



Connects the client to the specified T\+C\+P\+Socket. 


\begin{DoxyParams}{Parameters}
{\em tcp\+\_\+socket} & pointer to T\+C\+P\+Socket struct. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{tcp__socket_8c_ae16c75dfb5c0923e1466ce43c2bbfc9d}\label{tcp__socket_8c_ae16c75dfb5c0923e1466ce43c2bbfc9d}} 
\index{tcp\_socket.c@{tcp\_socket.c}!tcp\_socket\_create@{tcp\_socket\_create}}
\index{tcp\_socket\_create@{tcp\_socket\_create}!tcp\_socket.c@{tcp\_socket.c}}
\doxysubsubsection{\texorpdfstring{tcp\_socket\_create()}{tcp\_socket\_create()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structSTCPSocket}{T\+C\+P\+Socket}}$\ast$ tcp\+\_\+socket\+\_\+create (\begin{DoxyParamCaption}\item[{Conn\+Type}]{type,  }\item[{char $\ast$}]{server\+\_\+ip }\end{DoxyParamCaption})}



Creates a T\+C\+P\+Socket and pass its pointer. 


\begin{DoxyParams}{Parameters}
{\em type} & the T\+C\+P\+Socket type (client or server) \\
\hline
{\em server\+\_\+ip} & if type = C\+L\+I\+E\+NT, is mandatory to specify the server\textquotesingle{}s ip address formatted as string. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
T\+C\+P\+Socket$\ast$ pointer to T\+C\+P\+Socket struct 
\end{DoxyReturn}
\mbox{\Hypertarget{tcp__socket_8c_a164717a353ee0c2bb1ca12b857aee3bc}\label{tcp__socket_8c_a164717a353ee0c2bb1ca12b857aee3bc}} 
\index{tcp\_socket.c@{tcp\_socket.c}!tcp\_socket\_destroy@{tcp\_socket\_destroy}}
\index{tcp\_socket\_destroy@{tcp\_socket\_destroy}!tcp\_socket.c@{tcp\_socket.c}}
\doxysubsubsection{\texorpdfstring{tcp\_socket\_destroy()}{tcp\_socket\_destroy()}}
{\footnotesize\ttfamily void tcp\+\_\+socket\+\_\+destroy (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structSTCPSocket}{T\+C\+P\+Socket}} $\ast$}]{tcp\+\_\+socket }\end{DoxyParamCaption})}



Destroys a T\+C\+P\+Socket. 


\begin{DoxyParams}{Parameters}
{\em tcp\+\_\+socket} & the T\+C\+P\+Socket reference to destroy. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{tcp__socket_8c_aa44e163d8d9947d70fe806b2f52a47fb}\label{tcp__socket_8c_aa44e163d8d9947d70fe806b2f52a47fb}} 
\index{tcp\_socket.c@{tcp\_socket.c}!tcp\_socket\_recv\_message@{tcp\_socket\_recv\_message}}
\index{tcp\_socket\_recv\_message@{tcp\_socket\_recv\_message}!tcp\_socket.c@{tcp\_socket.c}}
\doxysubsubsection{\texorpdfstring{tcp\_socket\_recv\_message()}{tcp\_socket\_recv\_message()}}
{\footnotesize\ttfamily int tcp\+\_\+socket\+\_\+recv\+\_\+message (\begin{DoxyParamCaption}\item[{int}]{connection\+\_\+fd,  }\item[{\mbox{\hyperlink{structSMessage}{Message}} $\ast$}]{message }\end{DoxyParamCaption})}



Receives a Message from T\+C\+P\+Socket. 


\begin{DoxyParams}{Parameters}
{\em connection\+\_\+fd} & connection file descriptor. If client, it is param sockfd of T\+C\+P\+Socket. If server, it is obtained by the output of tcp\+\_\+socket\+\_\+server\+\_\+accept function. \\
\hline
{\em message} & pointer to the message to receive. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int returns the number of bytes received, or -\/1 if an error occurred. In the event of an error, errno is set to indicate the error. 
\end{DoxyReturn}
\mbox{\Hypertarget{tcp__socket_8c_a61489fc9692a59a5a41debdd2658fc71}\label{tcp__socket_8c_a61489fc9692a59a5a41debdd2658fc71}} 
\index{tcp\_socket.c@{tcp\_socket.c}!tcp\_socket\_send\_message@{tcp\_socket\_send\_message}}
\index{tcp\_socket\_send\_message@{tcp\_socket\_send\_message}!tcp\_socket.c@{tcp\_socket.c}}
\doxysubsubsection{\texorpdfstring{tcp\_socket\_send\_message()}{tcp\_socket\_send\_message()}}
{\footnotesize\ttfamily int tcp\+\_\+socket\+\_\+send\+\_\+message (\begin{DoxyParamCaption}\item[{int}]{connection\+\_\+fd,  }\item[{\mbox{\hyperlink{structSMessage}{Message}} $\ast$}]{message }\end{DoxyParamCaption})}



Sends a Message on T\+C\+P\+Socket. 


\begin{DoxyParams}{Parameters}
{\em connection\+\_\+fd} & connection file descriptor. If client, it is param sockfd of T\+C\+P\+Socket. If server, it is obtained by the output of tcp\+\_\+socket\+\_\+server\+\_\+accept function. \\
\hline
{\em message} & the Message to send. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int On success, returns the number of bytes sent. On error, -\/1 is returned, and errno is set to indicate the error. 
\end{DoxyReturn}
\mbox{\Hypertarget{tcp__socket_8c_a27b3a99d4d5d5b23cfd813207b5ab29e}\label{tcp__socket_8c_a27b3a99d4d5d5b23cfd813207b5ab29e}} 
\index{tcp\_socket.c@{tcp\_socket.c}!tcp\_socket\_server\_accept@{tcp\_socket\_server\_accept}}
\index{tcp\_socket\_server\_accept@{tcp\_socket\_server\_accept}!tcp\_socket.c@{tcp\_socket.c}}
\doxysubsubsection{\texorpdfstring{tcp\_socket\_server\_accept()}{tcp\_socket\_server\_accept()}}
{\footnotesize\ttfamily int tcp\+\_\+socket\+\_\+server\+\_\+accept (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structSTCPSocket}{T\+C\+P\+Socket}} $\ast$}]{tcp\+\_\+socket }\end{DoxyParamCaption})}



Accepts a connection from a requesting client. 


\begin{DoxyParams}{Parameters}
{\em tcp\+\_\+socket} & pointer to T\+C\+P\+Socket struct. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int the connection file descriptor. 
\end{DoxyReturn}
\mbox{\Hypertarget{tcp__socket_8c_a77e4929191cfaae50f4fad172f97f812}\label{tcp__socket_8c_a77e4929191cfaae50f4fad172f97f812}} 
\index{tcp\_socket.c@{tcp\_socket.c}!tcp\_socket\_server\_listen@{tcp\_socket\_server\_listen}}
\index{tcp\_socket\_server\_listen@{tcp\_socket\_server\_listen}!tcp\_socket.c@{tcp\_socket.c}}
\doxysubsubsection{\texorpdfstring{tcp\_socket\_server\_listen()}{tcp\_socket\_server\_listen()}}
{\footnotesize\ttfamily void tcp\+\_\+socket\+\_\+server\+\_\+listen (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structSTCPSocket}{T\+C\+P\+Socket}} $\ast$}]{tcp\+\_\+socket }\end{DoxyParamCaption})}



Configures the server in listening mode. 


\begin{DoxyParams}{Parameters}
{\em tcp\+\_\+socket} & pointer to T\+C\+P\+Socket struct. \\
\hline
\end{DoxyParams}
